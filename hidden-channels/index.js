(function(r,i,s,l,d){"use strict";const{View:E,Text:f,Pressable:m,Image:C}=i.findByProps("Button","Text","View","Image"),y=i.findByProps("extractTimestamp"),o=s.stylesheet.createThemedStyleSheet({container:{flex:1,padding:16,alignItems:"center",justifyContent:"center"},title:{fontFamily:s.constants.Fonts.PRIMARY_SEMIBOLD,fontSize:24,textAlign:"left",color:d.semanticColors.HEADER_PRIMARY,paddingVertical:25},text:{flex:1,flexDirection:"row",fontSize:16,textAlign:"justify",color:d.semanticColors.HEADER_PRIMARY},dateContainer:{height:16,alignSelf:"baseline",flexDirection:"row",alignItems:"center"},clockIcon:{width:16,height:16,marginRight:4}});function u(t){let{date:e}=t;const n=getAssetIdByName("ic_hide_24px"),a=d.semanticColors.HEADER_PRIMARY;return React.createElement(m,{style:o.dateContainer,onPress:function(){s.toasts.open({content:s.moment(e).toLocaleString(),source:n.id})},onLongPress:function(){s.clipboard.setString(e.getTime().toString()),s.toasts.open({content:"Copied to clipboard"})}},React.createElement(C,{style:[o.clockIcon,{tintColor:a}],source:n}),React.createElement(f,{style:o.text},s.moment(e).fromNow()))}function P(t){let{channel:e}=t;return React.createElement(E,{style:o.container},React.createElement(f,{style:o.title},"This channel is hidden."),React.createElement(f,{style:o.text},"Topic: ",e.topic||"No topic.",`

`,"Creation date: ",React.createElement(u,{date:new Date(y.extractTimestamp(e.id))}),`

`,"Last message: ",e.lastMessageId?React.createElement(u,{date:new Date(y.extractTimestamp(e.lastMessageId))}):"No messages.",`

`,"Last pin: ",e.lastPinTimestamp?React.createElement(u,{date:new Date(e.lastPinTimestamp)}):"No pins."))}let c=[];const R=i.findByProps("getChannelPermissions","can"),I=i.findByProps("transitionToGuild"),T=i.findByProps("stores","fetchMessages"),{ChannelTypes:p}=i.findByProps("ChannelTypes"),{getChannel:x}=i.findByProps("getChannel"),M=[p.DM,p.GROUP_DM,p.GUILD_CATEGORY];function g(t){if(t==null||(typeof t=="string"&&(t=x(t)),!t||M.includes(t.type)))return!1;t.realCheck=!0;let e=!R.can(s.constants.Permissions.VIEW_CHANNEL,t);return delete t.realCheck,e}function A(){const t=i.findByName("MessagesWrapperConnected",!1);c.push(l.after("can",R,function(e,n){let[a,h]=e;return!h?.realCheck&&a===s.constants.Permissions.VIEW_CHANNEL?!0:n})),c.push(l.instead("transitionToGuild",I,function(e,n){const[a,h]=e;!g(h)&&typeof n=="function"&&n(e)})),c.push(l.instead("fetchMessages",T,function(e,n){const[a]=e;!g(a)&&typeof n=="function"&&n(e)})),c.push(l.instead("default",t,function(e,n){const a=e[0]?.channel;return!g(a)&&typeof n=="function"?n(...e):s.React.createElement(P,{channel:a})}))}var D={onLoad:A,onUnload:function(){for(const t of c)t()}};return r.default=D,Object.defineProperty(r,"__esModule",{value:!0}),r})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui);
